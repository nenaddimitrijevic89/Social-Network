(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{10:function(e,t,a){e.exports={card:"ProfileCard_card__805hN",cardHeader:"ProfileCard_cardHeader__zpZcW",profileImg:"ProfileCard_profileImg__1mU-y",cardBody:"ProfileCard_cardBody__1vV2J",fullName:"ProfileCard_fullName__3uke2",username:"ProfileCard_username__23DlC",prefix:"ProfileCard_prefix__2usNF",about:"ProfileCard_about__v-Tj9",edit:"ProfileCard_edit__1TqU5",cardFooter:"ProfileCard_cardFooter__2sdlJ",col:"ProfileCard_col__35fCz",count:"ProfileCard_count__3o2Tp",vr:"ProfileCard_vr__Ec2mj",center:"ProfileCard_center__1B370",margin:"ProfileCard_margin__Zs6-m"}},11:function(e,t,a){e.exports={form:"UserForm_form__1hKM_",right:"UserForm_right__1jpKs",left:"UserForm_left__1ospw",activeR:"UserForm_activeR__Kpa80",activeL:"UserForm_activeL__3JSfd",margin:"UserForm_margin__MyaED",padding:"UserForm_padding__dZzQn",font:"UserForm_font__2Pzjx",account:"UserForm_account__1bwbD",red:"UserForm_red__1MjEn",info:"UserForm_info__3cpEf"}},13:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a(20).storageService,s=function(){var e=n.get("token");return e?"Bearer ".concat(e):"Bearer sn-token"},r=function(){return!!n.get("token")},o=function(e){if(e){var t=e.slice(32);return"".concat("https://www.youtube.com/embed/").concat(t)}},l=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,s=t.getDate();return"".concat(s,"-").concat(n,"-").concat(a)}},145:function(e,t,a){},155:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(35),o=a.n(r),l=(a(74),a(75),a(76),a(77),a(1)),i=a(28),c=a.n(i),m=a(8),u=a(20),d=function(){return s.a.createElement(l.Navbar,{className:c.a.header,alignLinks:"right",brand:s.a.createElement("span",{className:"brand-logo ".concat(c.a.title)},"Social Network"),centerChildren:!0,id:"mobile-nav",menuIcon:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:c.a.menu}),s.a.createElement("div",{className:c.a.menu}),s.a.createElement("div",{className:c.a.menu})),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},s.a.createElement(m.b,{to:"/feed"},s.a.createElement(l.NavItem,null,"Feed")),s.a.createElement(m.b,{to:"/people"},s.a.createElement(l.NavItem,null,"People")),s.a.createElement(m.b,{to:"/profile"},s.a.createElement(l.NavItem,null,"Profile")),s.a.createElement(l.Dropdown,{id:"Dropdown_6",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:s.a.createElement("a",{href:"#!"},s.a.createElement("i",{className:"fa fa-gear"}))},s.a.createElement(m.b,{to:"/"},s.a.createElement("span",{onClick:function(){u.storageService.remove("token")}},s.a.createElement("i",{className:"fa fa-sign-out"},s.a.createElement("span",{className:c.a.font}," log out"))))))},f=a(37),p=a.n(f),g=function(){return s.a.createElement(l.Navbar,{className:"".concat(p.a.footer," justify-content-center"),menuIcon:s.a.createElement("div",{className:p.a.display}),brand:s.a.createElement("span",{className:p.a.name},"\xa9 2020, by Nenad")})},h=a(7),E=a(4),v=a(6),b=a(18),_=a(17),C=a(13),P=a(29),w=a.n(P),N=a(22),y=a.n(N),I=function(e){var t=e.comment,a=e.commentUser,n=e.deleteComment;return s.a.createElement("div",{className:w.a.user},s.a.createElement(m.b,{to:"/people/".concat(null===a||void 0===a?void 0:a.id)},s.a.createElement("div",{className:w.a.img},s.a.createElement("img",{className:w.a.radius,src:(null===a||void 0===a?void 0:a.avatarUrl)||y.a,alt:"user"}))),s.a.createElement("div",{className:w.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:w.a.bold}," ",(null===a||void 0===a?void 0:a.fullName)||"Deleted Account")),s.a.createElement("p",null,s.a.createElement("span",null," ",Object(C.a)(t.createdAt)))),s.a.createElement("i",{className:"".concat(w.a.trash," fa fa-trash"),onClick:function(){return n(t.id)}}))},O=function(e){var t,a=e.comment,n=e.users,r=e.deleteComment,o=(t=a.owner,n.filter((function(e){return e.id===t}))[0]);return s.a.createElement("div",{style:{padding:"0px 24px"}},s.a.createElement(I,{comment:a,commentUser:o,deleteComment:r}),s.a.createElement(l.CardPanel,{className:"grey left-align",style:{marginTop:"0px"}},s.a.createElement("span",{className:"white-text"},a.body)))},S=function(e){var t=e.isShown,a=e.comments,n=e.users,r=e.writeComment,o=e.saveComment,i=e.deleteComment;return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{padding:"10px 24px 20px 24px"},onKeyUp:function(e){return 13===e.keyCode&&o()}},s.a.createElement("i",{className:"fa fa-pencil"})," Write comment",s.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;r(t)}}),s.a.createElement(l.Button,{onClick:o},s.a.createElement("i",{className:"fa fa-send"}))),s.a.createElement(s.a.Fragment,null,a.length?s.a.createElement(s.a.Fragment,null,a.map((function(e){return s.a.createElement(O,{key:e.id,comment:e,users:n,deleteComment:i})}))):s.a.createElement(s.a.Fragment,null))))},x=a(30),k=a.n(x),U=function(e){var t=e.user,a=e.post,n=e.deletePost;return s.a.createElement("div",{className:k.a.user},s.a.createElement(m.b,{to:"/people/".concat(null===t||void 0===t?void 0:t.id)},s.a.createElement("div",{className:k.a.img},s.a.createElement("img",{className:k.a.radius,src:(null===t||void 0===t?void 0:t.avatarUrl)||y.a,alt:"user"}))),s.a.createElement("div",{className:k.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:k.a.bold}," ",(null===t||void 0===t?void 0:t.fullName)||"Deleted Account")),s.a.createElement("p",null,s.a.createElement("span",null," ",Object(C.a)(a.createdAt)))),s.a.createElement("i",{className:"".concat(k.a.trash," fa fa-trash"),onClick:function(){return n(a.id)}}))},D=a(31),j=a.n(D),T=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:j.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:j.a.margin},s.a.createElement("div",{className:j.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,numbOfComments:f}),s.a.createElement(l.CardPanel,{className:"grey",style:{marginTop:"0px",marginBottom:"9px"}},s.a.createElement("span",{className:"white-text"},t.src)),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(j.a.comment," fa fa-comment")},s.a.createElement("span",{className:j.a.numb},0===f?"":f))),s.a.createElement("span",{className:j.a.postType},t.type.toUpperCase()," POST"))))},L=a(32),R=a.n(L),A=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:R.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:R.a.margin},s.a.createElement("div",{className:R.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,numbOfComments:f}),s.a.createElement("img",{src:null===t||void 0===t?void 0:t.src,alt:"imagePost",style:{width:"100%"}}),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(R.a.comment," fa fa-comment")},s.a.createElement("span",{className:R.a.numb},0===f?"":f))),s.a.createElement("span",{className:R.a.postType},t.type.toUpperCase()," POST"))))},F=a(23),B=a.n(F),H=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:B.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:B.a.margin},s.a.createElement("div",{className:B.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,numbOfComments:f}),s.a.createElement("iframe",{src:t.src,title:"post video",className:B.a.video}),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(B.a.comment," fa fa-comment")},s.a.createElement("span",{className:B.a.numb},0===f?"":f))),s.a.createElement("span",{className:B.a.postType},t.type.toUpperCase()," POST"))))},M=function e(t){Object(E.a)(this,e),this.id=t._id,this.body=t.body,this.createdAt=t.createdAt,this.owner=t.owner,this.postId=t.postId,this.updatedAt=t.updatedAt},V=function e(t){Object(E.a)(this,e),"video"===t.type?(this.id=t._id,this.createdAt=t.createdAt,this.owner=t.owner,this.src=Object(C.b)(t.src),this.type=t.type,this.updatedAt=t.updatedAt):(this.id=t._id,this.createdAt=t.createdAt,this.owner=t.owner,this.src=t.src,this.type=t.type,this.updatedAt=t.updatedAt)},z=a(26).baseURL,K=a(5),W=K.HEADERS,Y=K.handlePostTypeDisplay,J=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllPosts",value:function(){return z.get("posts",{headers:W()}).then((function(e){return e.data.data.map((function(e){return Y(e),new V(e)}))})).catch((function(e){return console.log(e)}))}},{key:"getSinglePost",value:function(e){return z.get("posts/".concat(e),{headers:W()}).then((function(e){var t=e.data.data;return Y(t),new V(t)}))}},{key:"getSinglePostComments",value:function(e){return z.get("posts/".concat(e,"/comments"),{headers:W()}).then((function(e){return e.data.data.map((function(e){return new M(e)}))}))}},{key:"createPost",value:function(e){var t=e.type,a=e.src;return z.post("posts",{type:t,src:a},{headers:W()}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"createImagePost",value:function(e){var t=e.src,a=u.storageService.get("token");return z.post("posts?type=image",t,{headers:{"x-api-key":"1vaHd3v",Authorization:a}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"deletePost",value:function(e){return z.delete("posts/".concat(e),{headers:W()}).catch((function(){return alert("This is not your post. You can not delete it!")}))}}]),e}()),Z=a(5),q=function e(t){Object(E.a)(this,e),this.id=t._id,this.avatarUrl=t.avatarUrl,this.about=t.about,this.firstName=t.firstName,this.lastName=t.lastName,this.fullName=t.fullName,this.email=t.email,this.prefix=t.prefix},G=a(26).baseURL,X=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllUsers",value:function(){return G.get("users?limit=100&offset=0",{headers:Object(Z.HEADERS)()}).then((function(e){var t=e.data.data;return console.log(t),t.map((function(e){return Object(Z.handleImageDisplay)(e),new q(e)}))})).catch((function(e){return console.log(e)}))}},{key:"getLoggedUser",value:function(){return G.get("users/me",{headers:Object(Z.HEADERS)()}).then((function(e){var t=e.data;return Object(Z.handleImageDisplay)(t),new q(t)}))}},{key:"getSingleUser",value:function(e){return G.get("users/".concat(e),{headers:Object(Z.HEADERS)()}).then((function(e){var t=e.data.data;return Object(Z.handleImageDisplay)(t),new q(t)})).catch((function(e){return console.log(e)}))}},{key:"updateUser",value:function(e,t){return G.patch("users/".concat(e),t,{headers:Object(Z.HEADERS)()}).catch((function(e){return console.log(e)}))}},{key:"uploadProfileImage",value:function(e,t){var a=u.storageService.get("token");return G.post("users/".concat(e,"/image"),t,{headers:{"x-api-key":"1vaHd3v",Authorization:a}})}},{key:"getSingleUserPosts",value:function(e){return G.get("users/".concat(e,"/posts"),{headers:Object(Z.HEADERS)()}).then((function(e){return e.data.total})).catch((function(e){return console.log(e)}))}},{key:"getSingleUserComments",value:function(e){return G.get("users/".concat(e,"/comments"),{headers:Object(Z.HEADERS)()}).then((function(e){return e.data.total})).catch((function(e){return console.log(e)}))}},{key:"deleteSingleUser",value:function(e,t){return G.delete("users/".concat(e),{headers:Object(Z.HEADERS)()},t).then((function(e){u.storageService.remove("token"),console.log(e)})).catch((function(e){return console.log(e)}))}}]),e}()),Q=(a(145),function(){return s.a.createElement("div",{className:"sk-folding-cube"},s.a.createElement("div",{className:"sk-cube1 sk-cube"}),s.a.createElement("div",{className:"sk-cube2 sk-cube"}),s.a.createElement("div",{className:"sk-cube4 sk-cube"}),s.a.createElement("div",{className:"sk-cube3 sk-cube"}))}),$=a(36),ee=a.n($),te=function(e){var t=e.writePost;return s.a.createElement(l.Row,null,s.a.createElement("h4",null,"Text Post"),s.a.createElement("hr",null),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("textarea",{id:"textarea2",className:"materialize-textarea","data-length":"120",onChange:function(e){var a=e.target.value;t(a)}}),s.a.createElement("label",{htmlFor:"textarea2"},"Write something...")))},ae=a(65),ne=a.n(ae),se=function(e){var t=e.writePost,a=e.imagePreview,n=e.postImage;return s.a.createElement(l.Row,{style:{marginBottom:"26px"}},s.a.createElement("h4",null,"Image Post"),s.a.createElement("hr",null),s.a.createElement("img",{src:n,className:ne.a.image}),s.a.createElement("div",{className:"file-field input-field col s12",style:{marginBottom:"23px"}},s.a.createElement("div",{className:"btn red"},s.a.createElement("i",{className:"fa fa-upload"}),s.a.createElement("input",{type:"file",name:"file",onChange:function(e){var n=e.target.files,s=URL.createObjectURL(n[0]),r=new FormData;r.append("image",n[0],n[0].name),a(s),t(r)},accept:"image/png, image/jpeg"}))))},re=a(66),oe=a.n(re),le=function(e){var t=e.writePost,a=e.src;return s.a.createElement(l.Row,null,s.a.createElement("h4",null,"Video Post"),s.a.createElement("hr",null),s.a.createElement("iframe",{src:Object(C.b)(a),className:oe.a.iframe}),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("textarea",{id:"textarea2",className:"materialize-textarea","data-length":"120",onChange:function(e){var a=e.target.value;t(a)}}),s.a.createElement("label",{htmlFor:"textarea2"},"YouTube video URL")))},ie=function(e){var t=e.modalIsOpen,a=e.openModal,n=e.writePost,r=e.savePost,o=e.changeText,i=e.changeImage,c=e.changeVideo,m=e.isText,u=e.isImage,d=e.isVideo,f=e.uploadImage,p=e.src,g=e.imagePreview,h=e.postImage;return s.a.createElement(ee.a,{isOpen:t,style:Object(Z.customStyles)("500px"),ariaHideApp:!1,onRequestClose:function(){a()},contentLabel:"modal"},s.a.createElement(l.Container,{onKeyUp:function(e){return 13===e.keyCode&&void(u?f():r())}},s.a.createElement(l.Button,{onClick:o,name:"text",style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(l.Button,{onClick:i,name:"image",style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-image"})),s.a.createElement(l.Button,{onClick:c,name:"video"},s.a.createElement("i",{className:"fa fa-play"})),m&&s.a.createElement(te,{writePost:n}),u&&s.a.createElement(se,{writePost:n,imagePreview:g,postImage:h}),d&&s.a.createElement(le,{writePost:n,src:p}),s.a.createElement(l.Row,null,(m||d)&&s.a.createElement(l.Button,{onClick:r},s.a.createElement("i",{className:"fa fa-send"})),u&&s.a.createElement(l.Button,{onClick:f},s.a.createElement("i",{className:"fa fa-send"})))))},ce=a(26).baseURL,me=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllComments",value:function(){return ce.get("comments",{headers:Object(Z.HEADERS)()}).then((function(e){return e.data.data.map((function(e){return new M(e)}))}))}},{key:"createComment",value:function(e){var t=e.postId,a=e.body;return ce.post("comments",{postId:t,body:a},{headers:Object(Z.HEADERS)()}).catch((function(e){return console.log(e)}))}},{key:"deleteComment",value:function(e){return ce.delete("comments/".concat(e),{headers:Object(Z.HEADERS)()}).catch((function(){return alert("This is not your comment. You can not delete it!")}))}}]),e}()),ue=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).filterPostComments=function(t){return e.state.comments.filter((function(e){return e.postId===t})).length},e.filterPostUser=function(t){var a=e.state.users.filter((function(e){return e.id===t}));return console.log(a),a[0]},e.openModal=function(){e.setState((function(e){return{modalIsOpen:!e.modalIsOpen,type:"text"}}))},e.writePost=function(t){e.setState({src:t})},e.uploadImage=function(){J.createImagePost(e.state).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t,modalIsOpen:!1})}))}))},e.savePost=function(){J.createPost(e.state).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t,modalIsOpen:!1})}))}))},e.deletePost=function(t){J.deletePost(t).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t})}))}))},e.changeText=function(){e.setState({isText:!0,isImage:!1,isVideo:!1,type:"text"})},e.changeImage=function(){e.setState({isImage:!0,isText:!1,isVideo:!1,type:"image"})},e.changeVideo=function(){e.setState({isVideo:!0,isText:!1,isImage:!1,type:"video"})},e.imagePreview=function(t){e.setState({postImage:t})},e.state={posts:[],users:[],comments:[],isLoading:!0,modalIsOpen:!1,type:null,src:null,isText:!0,isImage:!1,isVideo:!1,postImage:null},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;X.getAllUsers().then((function(t){return e.setState({users:t})})),J.getAllPosts().then((function(t){return e.setState({posts:t})})).finally((function(){return e.setState({isLoading:!1})})),me.getAllComments().then((function(t){return e.setState({comments:t})}))}},{key:"render",value:function(){var e=this;return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(ie,{openModal:this.openModal,modalIsOpen:this.state.modalIsOpen,writePost:this.writePost,savePost:this.savePost,changeText:this.changeText,changeImage:this.changeImage,changeVideo:this.changeVideo,isText:this.state.isText,isImage:this.state.isImage,isVideo:this.state.isVideo,uploadImage:this.uploadImage,src:this.state.src,imagePreview:this.imagePreview,postImage:this.state.postImage}),this.state.posts.map((function(t){return"text"===t.type?s.a.createElement(T,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1}):"video"===t.type?s.a.createElement(H,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1}):s.a.createElement(A,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1})}))),s.a.createElement(l.Button,{onClick:this.openModal,className:"red",fab:!0,icon:s.a.createElement("i",{className:"fa fa-plus"}),floating:!0,large:!0,node:"button"}))}}]),a}(s.a.Component),de=function(e){var t=e.insertData,a=e.email,n=function(e){var a=e.target.name,n=e.target.value;t(n,a)};return s.a.createElement(l.Col,null,s.a.createElement(l.TextInput,{value:a,id:"TextInput-11",label:"Email",name:"email",disabled:!0}),s.a.createElement(l.TextInput,{onChange:n,id:"TextInput-12",label:"Password",name:"password"}),s.a.createElement(l.TextInput,{onChange:n,id:"TextInput-13",label:"New Password",name:"newPassword"}),s.a.createElement(l.TextInput,{id:"TextInput-14",style:{visibility:"hidden"}}))},fe=function(e){var t=e.user,a=e.saveNewPassword,n=e.insertData;return s.a.createElement("div",{onKeyUp:function(e){return 13===e.keyCode&&a()}},s.a.createElement("p",{style:{marginBottom:"5px",color:"gray"}},"CHANGE PASSWORD"),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement(de,{insertData:n,email:t.email})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:a},s.a.createElement("i",{className:"fa fa-send"}))))},pe=function(e){var t=e.insertData,a=function(e){var a=e.target.name,n=e.target.value;t(n,a)};return s.a.createElement(l.Col,null,s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-7",label:"First Name",name:"firstName"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-8",label:"Last Name",name:"lastName"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-9",label:"About",name:"about"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-10",label:"Prefix",name:"prefix"}))},ge=function(e){var t=e.submitData,a=e.insertData;return s.a.createElement("div",{onKeyUp:function(e){return 13===e.keyCode&&t()}},s.a.createElement("p",{style:{marginBottom:"5px",color:"gray"}},"UPDATE INFO"),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement(pe,{insertData:a})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:t},s.a.createElement("i",{className:"fa fa-send"}))))},he=function(e){var t=e.setImage,a=e.imagePreview;return s.a.createElement(l.Col,{s:12,m:6,l:6},s.a.createElement("div",{className:"file-field input-field"},s.a.createElement("div",{className:"btn red red"},s.a.createElement("i",{className:"fa fa-upload"}),s.a.createElement("input",{type:"file",onChange:function(e){console.log("aaaaa");var n=e.target.files,s=URL.createObjectURL(e.target.files[0]),r=new FormData;r.append("image",n[0],n[0].name),a(s),t(r)},accept:"image/png, image/jpeg"}))))},Ee=a(67),ve=a.n(Ee),be=function(e){var t=e.uploadImage,a=e.setImage,n=e.avatar,r=e.imagePreview;return s.a.createElement("div",{onKeyUp:function(e){return 13===e.keyCode&&t()}},s.a.createElement("p",{style:{marginBottom:"5px",color:"gray"}},"UPDATE PROFILE IMAGE"),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement("img",{src:n,className:ve.a.image}),s.a.createElement(he,{setImage:a,imagePreview:r})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:t},s.a.createElement("i",{className:"fa fa-send"}))))},_e=function(e){var t=e.insertData,a=e.submitData,n=e.modalIsOpen,r=e.openModal,o=e.user,i=e.isPassword,c=e.saveNewPassword,m=e.isProfileImage,u=e.isInfo,d=e.changeInfo,f=e.changePassword,p=e.changeProfileImage,g=e.uploadImage,h=e.setImage,E=e.avatar,v=e.imagePreview;return s.a.createElement(ee.a,{isOpen:n,style:Object(Z.customStyles)("500px"),ariaHideApp:!1,onRequestClose:function(){r({})},contentLabel:"modal"},s.a.createElement(l.Container,null,s.a.createElement(l.Button,{onClick:d,style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-info"})),s.a.createElement(l.Button,{onClick:f,style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-key"})),s.a.createElement(l.Button,{onClick:p},s.a.createElement("i",{className:"fa fa-user-circle-o"})),i&&s.a.createElement(fe,{user:o,saveNewPassword:c,insertData:t}),u&&s.a.createElement(ge,{user:o,submitData:a,insertData:t}),m&&s.a.createElement(be,{user:o,uploadImage:g,setImage:h,avatar:E,imagePreview:v})))},Ce=a(26),Pe=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"register",value:function(e){var t=e.email,a=e.password,n=e.firstName,s=e.lastName;return Ce.baseURL.post("auth/register",{email:t,password:a,firstName:n,lastName:s},Object(Z.HEADERS)()).then((function(e){if(console.log(e),200===e.status)return u.storageService.set("token",e.data.token),e}))}},{key:"logIn",value:function(e){var t=e.email,a=e.password;return Ce.baseURL.post("auth/login",{email:t,password:a},Object(Z.HEADERS)()).then((function(e){if(console.log(e),200===e.status)return u.storageService.set("token",e.data.token),e}))}},{key:"changePassword",value:function(e){var t=e.email,a=e.password,n=e.newPassword;return Ce.baseURL.patch("auth/password/change",{email:t,password:a,newPassword:n},{headers:Object(Z.HEADERS)()}).then((function(e){return console.log(e)}))}}]),e}()),we=a(10),Ne=a.n(we),ye=function(e){var t,a=e.user,n=e.openModal,r=e.numbOfPosts,o=e.numbOfComments;return s.a.createElement(l.Row,{className:Ne.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:Ne.a.margin},s.a.createElement("div",{className:Ne.a.card},s.a.createElement("div",{className:Ne.a.cardHeader},s.a.createElement("img",{src:null!==(t=a.avatarUrl)&&void 0!==t?t:y.a,alt:"Profile Image",className:Ne.a.profileImg})),s.a.createElement("div",{className:Ne.a.cardBody},s.a.createElement("p",{className:Ne.a.fullName},a.fullName),s.a.createElement("p",{className:Ne.a.username},s.a.createElement("i",{className:"fa fa-envelope"})," ",a.email),s.a.createElement("p",{className:Ne.a.prefix},a.prefix),s.a.createElement("p",{className:Ne.a.about},a.about),n&&s.a.createElement("p",{className:Ne.a.edit,onClick:n},s.a.createElement("i",{className:"fa fa-edit"})," edit user")),s.a.createElement("div",{className:Ne.a.cardFooter},s.a.createElement("div",{className:"".concat(Ne.a.col," ").concat(Ne.a.vr)},s.a.createElement("p",null,s.a.createElement("span",{className:Ne.a.count},r)," Posts")),s.a.createElement("div",{className:Ne.a.col},s.a.createElement("p",null,s.a.createElement("span",{className:Ne.a.count},o)," Comments"))))))},Ie=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).openModal=function(){e.setState((function(e){return{modalIsOpen:!e.modalIsOpen,avatar:null}}))},e.insertData=function(t,a){switch(a){case"firstName":e.setState({firstName:t});break;case"lastName":e.setState({lastName:t});break;case"about":e.setState({about:t});break;case"prefix":e.setState({prefix:t});break;case"email":e.setState({email:t});break;case"password":e.setState({password:t});break;case"newPassword":e.setState({newPassword:t});break;default:return null}},e.saveNewPassword=function(){Pe.changePassword(e.state).finally((function(){return e.setState({modalIsOpen:!1})}))},e.changeInfo=function(){e.setState({isInfo:!0,isProfileImage:!1,isPassword:!1})},e.changePassword=function(){e.setState({isInfo:!1,isProfileImage:!1,isPassword:!0})},e.changeProfileImage=function(){e.setState({isInfo:!1,isProfileImage:!0,isPassword:!1})},e.setImage=function(t){e.setState({image:t})},e.uploadImage=function(){X.uploadProfileImage(e.state.user.id,e.state.image).then((function(){X.getLoggedUser().then((function(t){return e.setState({user:t,modalIsOpen:!1})}))}))},e.submitData=function(){var t={},a=e.state,n=a.firstName,s=a.lastName,r=a.about,o=a.prefix;t.firstName=n,t.lastName=s,t.about=r,t.prefix=o,X.updateUser(e.state.user.id,t).then((function(e){console.log(e),window.location.reload()}))},e.imagePreview=function(t){e.setState({avatar:t})},e.state={user:{},numbOfPosts:null,numbOfComments:null,image:null,modalIsOpen:!1,isInfo:!0,isPassword:!1,isProfileImage:!1,email:null,isLoading:!0,avatar:null},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;X.getLoggedUser().then((function(t){return e.setState({user:t,email:t.email})})).then((function(){X.getSingleUserPosts(e.state.user.id).then((function(t){return e.setState({numbOfPosts:t})})),X.getSingleUserComments(e.state.user.id).then((function(t){return e.setState({numbOfComments:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(l.Row,null,s.a.createElement(_e,{user:this.state.user,modalIsOpen:this.state.modalIsOpen,openModal:this.openModal,insertData:this.insertData,submitData:this.submitData,isPassword:this.state.isPassword,isProfileImage:this.state.isProfileImage,isInfo:this.state.isInfo,changeInfo:this.changeInfo,changePassword:this.changePassword,changeProfileImage:this.changeProfileImage,saveNewPassword:this.saveNewPassword,uploadImage:this.uploadImage,setImage:this.setImage,avatar:this.state.avatar,imagePreview:this.imagePreview}),s.a.createElement(ye,{user:this.state.user,openModal:this.openModal,numbOfPosts:this.state.numbOfPosts,numbOfComments:this.state.numbOfComments})))}}]),a}(s.a.Component),Oe=a(68),Se=a(11),xe=a.n(Se),ke=function(e){var t=e.insertData,a=e.submitData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-1",email:!0,label:"Email",name:"email",validate:!0})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-2",label:"Password",name:"password",password:!0})),s.a.createElement(l.Col,{l:12},s.a.createElement(l.Button,{className:xe.a.font,onClick:a,node:"button",type:"submit",waves:"light"},"Login")))},Ue=function(e){var t=e.insertData,a=e.submitData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-3",label:"First Name",name:"firstName"})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-4",label:"Last Name",name:"lastName"})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-5",email:!0,label:"Email",name:"email",validate:!0})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-6",label:"Password",name:"password",password:!0})),s.a.createElement(l.Col,{l:12},s.a.createElement(l.Button,{className:xe.a.font,onClick:a,node:"button",type:"submit",waves:"light"},"Register")))},De=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).insertData=function(t){e.setState(Object(Oe.a)({},t.target.name,t.target.value))},e.submitData=function(){e.setState({isLoading:!0}),e.state.isLog?Pe.logIn(e.state).then((function(t){200===t.status&&e.props.history.push("/feed")})).catch((function(t){return e.setState({errorMsg:t.response.data,isLoading:!1})})):Pe.register(e.state).then((function(t){200===t.status&&e.props.history.push("/feed")})).catch((function(t){return e.setState({errorMsg:t.response.data,isLoading:!1})}))},e.registerForm=function(){e.setState({isLog:!1})},e.loginForm=function(){e.setState({isLog:!0})},e.state={firstName:"",lastName:"",email:"",password:"",isLog:!0,isLoading:!1,errorMsg:null},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(l.Container,{className:xe.a.form,onKeyUp:function(t){return 13===t.keyCode&&e.submitData()}},this.state.errorMsg?s.a.createElement("h1",{className:"center-align ".concat(xe.a.padding," ").concat(xe.a.red)},this.state.errorMsg.error,"!"):s.a.createElement("h1",{className:"center-align ".concat(xe.a.padding)},"Social Network"),s.a.createElement(l.Row,null,s.a.createElement("div",null,s.a.createElement("span",{className:"".concat(xe.a.right," ").concat(this.state.isLog&&xe.a.activeR),onClick:this.loginForm},"LOGIN"),s.a.createElement("span",{className:"".concat(xe.a.left," ").concat(!this.state.isLog&&xe.a.activeL),onClick:this.registerForm},"REGISTER")),s.a.createElement(l.Col,{l:6,className:xe.a.margin},this.state.isLog?s.a.createElement(ke,{insertData:this.insertData,submitData:this.submitData}):s.a.createElement(Ue,{insertData:this.insertData,submitData:this.submitData})),s.a.createElement(l.Col,{l:6,className:xe.a.info},s.a.createElement("p",null,"If you don't want to Register account you can get in as Demo User."),s.a.createElement("p",null,"email: ",s.a.createElement("span",{className:xe.a.account},"demo@gmail.com")),s.a.createElement("p",null,"password: ",s.a.createElement("span",{className:xe.a.account},"demodemo"))))))}}]),a}(s.a.Component),je=a(24),Te=a.n(je),Le=function(e){var t=e.user,a=e.numbOfPosts,n=e.numbOfComments,r=t.email,o=t.id,i=t.fullName;return s.a.createElement(m.b,{to:"/people/".concat(o)},s.a.createElement(l.Row,{className:"".concat(Te.a.marginBottom," ").concat(Te.a.center)},s.a.createElement(l.Col,{className:"".concat(Te.a.user," ").concat(Te.a.margin),s:12,m:12,l:9},s.a.createElement("div",null,s.a.createElement("img",{className:Te.a.image,src:t.avatarUrl?t.avatarUrl:y.a,alt:"avatar"})),s.a.createElement("div",{className:Te.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:Te.a.bold}," ",i)),s.a.createElement("p",null,s.a.createElement("i",{className:"fa fa-envelope"}),s.a.createElement("span",null," ",r)),s.a.createElement("p",null,a," posts"),s.a.createElement("p",null,n," comments")))))},Re=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).filterPostOwner=function(t){return e.state.posts.filter((function(e){return e.owner===t})).length},e.filterCommentOwner=function(t){return e.state.comments.filter((function(e){return e.owner===t})).length},e.state={users:[],posts:[],comments:[],isLoading:!0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;X.getAllUsers().then((function(t){return e.setState({users:t})})),J.getAllPosts().then((function(t){return e.setState({posts:t})})),me.getAllComments().then((function(t){return e.setState({comments:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,this.state.users.map((function(t){return s.a.createElement(Le,{user:t,key:t.id,numbOfPosts:e.filterPostOwner(t.id),numbOfComments:e.filterCommentOwner(t.id)})}))))}}]),a}(s.a.Component),Ae=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).removeUser=function(){X.deleteSingleUser(e.props.match.params.id,e.state.user).then((function(){e.props.history.push("/")}))},e.state={user:null,loggedUser:null,numbOfPosts:null,numbOfComments:null,isLoading:!0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;X.getLoggedUser().then((function(t){return e.setState({loggedUser:t})})),X.getSingleUser(this.props.match.params.id).then((function(t){return e.setState({user:t})})).then((function(){X.getSingleUserPosts(e.props.match.params.id).then((function(t){return e.setState({numbOfPosts:t})})),X.getSingleUserComments(e.props.match.params.id).then((function(t){return e.setState({numbOfComments:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e,t;return s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,(null===(e=this.state.loggedUser)||void 0===e?void 0:e.id)===(null===(t=this.state.user)||void 0===t?void 0:t.id)?this.props.history.push("/profile"):s.a.createElement(ye,{user:this.state.user,numbOfComments:this.state.numbOfComments,numbOfPosts:this.state.numbOfPosts})))}}]),a}(s.a.Component),Fe=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).writeComment=function(t){e.setState({body:t})},e.saveComment=function(){me.createComment(e.state).then((function(){return e.setState({isLoading:!0})})).then((function(){J.getSinglePostComments(e.props.match.params.id).then((function(t){return e.setState({comments:t,isLoading:!1})}))}))},e.deleteComment=function(t){me.deleteComment(t).then((function(){J.getSinglePostComments(e.props.match.params.id).then((function(t){return e.setState({comments:t})}))}))},e.deletePost=function(t){J.deletePost(t).then((function(){return e.props.history.push("/feed")}))},e.state={isLoading:!0,post:[],user:[],users:[],comments:null,isShown:!0,body:null,postId:null},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.getSinglePost(this.props.match.params.id).then((function(t){return e.setState({post:t,postId:t.id})})),X.getAllUsers().then((function(t){return e.setState({users:t})})),J.getSinglePostComments(this.props.match.params.id).then((function(t){return e.setState({comments:t})})).then((function(){X.getSingleUser(e.state.post.owner).then((function(t){return e.setState({user:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,"image"===this.state.post.type&&s.a.createElement(A,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment}),"text"===this.state.post.type&&s.a.createElement(T,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment}),"video"===this.state.post.type&&s.a.createElement(H,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment})))}}]),a}(s.a.Component);var Be=function(){return s.a.createElement(h.c,null,s.a.createElement(h.a,{exact:!0,path:"/",component:De}),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"content"},s.a.createElement(d,null),s.a.createElement(h.a,{exact:!0,path:"/feed",component:ue}),s.a.createElement(h.a,{exact:!0,path:"/feed/post/:id",component:Fe}),s.a.createElement(h.a,{exact:!0,path:"/profile",component:Ie}),s.a.createElement(h.a,{exact:!0,path:"/people",component:Re}),s.a.createElement(h.a,{exact:!0,path:"/people/:id",component:Ae})),s.a.createElement(g,null))))};o.a.render(s.a.createElement(m.a,null,s.a.createElement(Be,null)),document.getElementById("root"))},20:function(e,t,a){"use strict";a.r(t),a.d(t,"storageService",(function(){return r}));var n=a(4),s=a(6),r=new(function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"set",value:function(e,t){var a=JSON.stringify(t);return sessionStorage.setItem(e,a),a}},{key:"get",value:function(e){return JSON.parse(sessionStorage.getItem(e))}},{key:"remove",value:function(e){return sessionStorage.removeItem(e)}}]),e}())},22:function(e,t,a){e.exports=a.p+"static/media/user.90f7e49c.png"},23:function(e,t,a){e.exports={center:"VideoPost_center__1cxlg",margin:"VideoPost_margin__2ghbA",video:"VideoPost_video__bJBXQ",card:"VideoPost_card__36rBL",comment:"VideoPost_comment__3XfiL",numb:"VideoPost_numb__1-nLB",postType:"VideoPost_postType__62Be_"}},24:function(e,t,a){e.exports={user:"User_user__2bfCp",center:"User_center__30ymP",margin:"User_margin__tkWko",image:"User_image__27utl",info:"User_info__21cVL",marginBottom:"User_marginBottom__24-Gz",bold:"User_bold__3rwa1"}},26:function(e,t,a){"use strict";a.r(t),a.d(t,"baseURL",(function(){return s}));var n=a(64),s=a.n(n).a.create({baseURL:"https://backend-social-network.herokuapp.com/"})},28:function(e,t,a){e.exports={menu:"Header_menu__KCdZ3",header:"Header_header__2w5zz",font:"Header_font__2fwZC",title:"Header_title__W1Lt3"}},29:function(e,t,a){e.exports={user:"CommentUser_user__37YAb",img:"CommentUser_img__2B-cO",radius:"CommentUser_radius__Dhdg6",info:"CommentUser_info__1n-O3",bold:"CommentUser_bold__1Cxul",trash:"CommentUser_trash__lKODD"}},30:function(e,t,a){e.exports={user:"PostUser_user__ghuem",img:"PostUser_img__15DzI",radius:"PostUser_radius__gqNtp",info:"PostUser_info__PzyKW",bold:"PostUser_bold__TWYYH",trash:"PostUser_trash__2LXzh"}},31:function(e,t,a){e.exports={center:"TextPost_center__34OHH",margin:"TextPost_margin__1Fi14",card:"TextPost_card__2hCJe",comment:"TextPost_comment__1Hl3w",numb:"TextPost_numb__1SwBo",postType:"TextPost_postType__399QK"}},32:function(e,t,a){e.exports={center:"ImagePost_center__1AfMq",margin:"ImagePost_margin__YLkXM",card:"ImagePost_card__1CoNN",comment:"ImagePost_comment__uWoF9",numb:"ImagePost_numb__1RiYk",postType:"ImagePost_postType__38MEH"}},37:function(e,t,a){e.exports={name:"Footer_name__3pcrY",footer:"Footer_footer__1jOUK",display:"Footer_display__1dEpj"}},5:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"HEADERS",(function(){return s})),a.d(t,"handlePostTypeDisplay",(function(){return r})),a.d(t,"handleImageDisplay",(function(){return o})),a.d(t,"customStyles",(function(){return l}));var n=a(13),s=function(){return{"Content-type":"application/json; charset=UTF-8","x-api-key":"1vaHd3v",Authorization:Object(n.c)()}},r=function(t){if("image"===t.type){var a,n=null===(a=t.src)||void 0===a?void 0:a.data,s=e.from(n).toString("base64");t.src=n?"data:image/png;base64,"+s:null}else{var r=e.from(t.src.data).toString();t.src=r}},o=function(t){var a,n=(null===(a=t.avatarUrl)||void 0===a?void 0:a.data)||"",s=e.from(n).toString("base64");t.avatarUrl=n?"data:image/png;base64,"+s:null},l=function(e){return window.innerWidth<541&&(e="86%"),{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(218, 218, 218, 0.5)"},content:{width:e,top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}}}.call(this,a(141).Buffer)},65:function(e,t,a){e.exports={image:"ImagePostModal_image__2JAXL"}},66:function(e,t,a){e.exports={iframe:"VideoPostModal_iframe__2ZY6R"}},67:function(e,t,a){e.exports={image:"ProfileImageChange_image__2B3NL"}},69:function(e,t,a){e.exports=a(155)},74:function(e,t,a){},75:function(e,t,a){}},[[69,1,2]]]);
//# sourceMappingURL=main.4ca6e00c.chunk.js.map