(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[0],{12:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l}));var n=a(20).storageService,s=function(){var e=n.get("token");return e?"Bearer ".concat(e):"Bearer sn-token"},r=function(){return!!n.get("token")},o=function(e){var t=e.slice(32);return"".concat("https://www.youtube.com/embed/").concat(t)},l=function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth()+1,s=t.getDate();return"".concat(s,"-").concat(n,"-").concat(a)}},142:function(e,t,a){},152:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(35),o=a.n(r),l=(a(71),a(72),a(73),a(74),a(1)),i=a(29),c=a.n(i),m=a(11),u=a(20),d=function(){return s.a.createElement(l.Navbar,{className:c.a.header,alignLinks:"right",brand:s.a.createElement("span",{className:"brand-logo ".concat(c.a.title)},"Social Network"),centerChildren:!0,id:"mobile-nav",menuIcon:s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:c.a.menu}),s.a.createElement("div",{className:c.a.menu}),s.a.createElement("div",{className:c.a.menu})),options:{draggable:!0,edge:"left",inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:200,preventScrolling:!0}},s.a.createElement(m.b,{to:"/feed"},s.a.createElement(l.NavItem,null,"Feed")),s.a.createElement(m.b,{to:"/people"},s.a.createElement(l.NavItem,null,"People")),s.a.createElement(m.b,{to:"/profile"},s.a.createElement(l.NavItem,null,"Profile")),s.a.createElement(l.Dropdown,{id:"Dropdown_6",options:{alignment:"left",autoTrigger:!0,closeOnClick:!0,constrainWidth:!0,container:null,coverTrigger:!0,hover:!1,inDuration:150,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,outDuration:250},trigger:s.a.createElement("a",{href:"#!"},s.a.createElement("i",{className:"fa fa-gear"}))},s.a.createElement(m.b,{to:"/"},s.a.createElement("span",{onClick:function(){u.storageService.remove("token")}},s.a.createElement("i",{className:"fa fa-sign-out"},s.a.createElement("span",{className:c.a.font}," log out"))))))},f=a(37),p=a.n(f),h=function(){return s.a.createElement(l.Navbar,{className:"".concat(p.a.footer," justify-content-center"),menuIcon:s.a.createElement("div",{className:p.a.display}),brand:s.a.createElement("span",{className:p.a.name},"\xa9 2020, by Nenad")})},g=a(7),E=a(4),v=a(6),b=a(18),_=a(17),C=a(12),w=a(30),P=a.n(w),N=a(22),y=a.n(N),I=function(e){var t=e.comment,a=e.commentUser,n=e.deleteComment;return s.a.createElement("div",{className:P.a.user},s.a.createElement("div",{className:P.a.img},s.a.createElement("img",{className:P.a.radius,src:(null===a||void 0===a?void 0:a.avatarUrl)||y.a,alt:"user"})),s.a.createElement("div",{className:P.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:P.a.bold}," ",(null===a||void 0===a?void 0:a.fullName)||"Deleted Account")),s.a.createElement("p",null,s.a.createElement("span",null," ",Object(C.a)(t.createdAt)))),s.a.createElement("i",{className:"".concat(P.a.trash," fa fa-trash"),onClick:function(){return n(t.id)}}))},O=function(e){var t,a=e.comment,n=e.users,r=e.deleteComment,o=(t=a.owner,n.filter((function(e){return e.id===t}))[0]);return s.a.createElement("div",{style:{padding:"0px 24px"}},s.a.createElement(I,{comment:a,commentUser:o,deleteComment:r}),s.a.createElement(l.CardPanel,{className:"grey",style:{marginTop:"0px"}},s.a.createElement("span",{className:"white-text"},a.body)))},S=function(e){var t=e.isShown,a=e.comments,n=e.users,r=e.writeComment,o=e.saveComment,i=e.deleteComment;return s.a.createElement(s.a.Fragment,null,t&&s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{style:{padding:"10px 24px 20px 24px"},onKeyUp:function(e){return 13===e.keyCode&&o()}},s.a.createElement("i",{className:"fa fa-pencil"})," Write comment",s.a.createElement("input",{type:"text",onChange:function(e){var t=e.target.value;r(t)}}),s.a.createElement(l.Button,{onClick:o},s.a.createElement("i",{className:"fa fa-send"}))),s.a.createElement(s.a.Fragment,null,a.length?s.a.createElement(s.a.Fragment,null,a.map((function(e){return s.a.createElement(O,{key:e.id,comment:e,users:n,deleteComment:i})}))):s.a.createElement(s.a.Fragment,null))))},x=a(23),k=a.n(x),U=function(e){var t=e.user,a=e.post,n=e.deletePost;e.isShown;return s.a.createElement("div",{className:k.a.user},s.a.createElement("div",{className:k.a.img},s.a.createElement("img",{className:k.a.radius,src:(null===t||void 0===t?void 0:t.avatarUrl)||y.a,alt:"user"})),s.a.createElement("div",{className:k.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:k.a.bold}," ",(null===t||void 0===t?void 0:t.fullName)||"Deleted Account")),s.a.createElement("p",null,s.a.createElement("span",null," ",Object(C.a)(a.createdAt)))),s.a.createElement("i",{className:"".concat(k.a.trash," fa fa-trash"),onClick:function(){return n(a.id)}}))},T=a(31),D=a.n(T),j=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:D.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:D.a.margin},s.a.createElement("div",{className:D.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,isShown:r,numbOfComments:f}),s.a.createElement(l.CardPanel,{className:"grey",style:{marginTop:"0px",marginBottom:"9px"}},s.a.createElement("span",{className:"white-text"},t.src)),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(D.a.comment," fa fa-comment")},s.a.createElement("span",{className:D.a.numb},0===f?"":f))),s.a.createElement("span",{className:D.a.postType},t.type.toUpperCase()," POST"))))},R=a(32),A=a.n(R),L=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:A.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:A.a.margin},s.a.createElement("div",{className:A.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,isShown:r,numbOfComments:f}),s.a.createElement("img",{src:t.src,alt:"imagePost",style:{width:"100%"}}),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(A.a.comment," fa fa-comment")},s.a.createElement("span",{className:A.a.numb},0===f?"":f))),s.a.createElement("span",{className:A.a.postType},t.type.toUpperCase()," POST"))))},F=a(24),B=a.n(F),H=function(e){var t=e.post,a=e.user,n=e.deletePost,r=e.isShown,o=e.comments,i=e.users,c=e.writeComment,u=e.saveComment,d=e.deleteComment,f=e.numbOfComments;return s.a.createElement(l.Row,{className:B.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:B.a.margin},s.a.createElement("div",{className:B.a.card},s.a.createElement(U,{user:a,post:t,deletePost:n,isShown:r,numbOfComments:f}),s.a.createElement("iframe",{src:t.src,title:"post video",className:B.a.video}),s.a.createElement(S,{isShown:r,comments:o,users:i,writeComment:c,saveComment:u,deleteComment:d}),!r&&s.a.createElement(m.b,{to:"/feed/post/".concat(t.id)},s.a.createElement("i",{className:"".concat(B.a.comment," fa fa-comment")},s.a.createElement("span",{className:B.a.numb},0===f?"":f))),s.a.createElement("span",{className:B.a.postType},t.type.toUpperCase()," POST"))))},M=function e(t){Object(E.a)(this,e),this.id=t._id,this.body=t.body,this.createdAt=t.createdAt,this.owner=t.owner,this.postId=t.postId,this.updatedAt=t.updatedAt},V=function e(t){Object(E.a)(this,e),"video"===t.type?(this.id=t._id,this.createdAt=t.createdAt,this.owner=t.owner,this.src=Object(C.b)(t.src),this.type=t.type,this.updatedAt=t.updatedAt):(this.id=t._id,this.createdAt=t.createdAt,this.owner=t.owner,this.src=t.src,this.type=t.type,this.updatedAt=t.updatedAt)},z=a(27).baseURL,K=a(5),W=K.HEADERS,Y=K.handlePostTypeDisplay,J=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllPosts",value:function(){return z.get("posts",{headers:W()}).then((function(e){return e.data.data.map((function(e){return Y(e),new V(e)}))})).catch((function(e){return console.log(e)}))}},{key:"getSinglePost",value:function(e){return z.get("posts/".concat(e),{headers:W()}).then((function(e){var t=e.data.data;return Y(t),new V(t)}))}},{key:"getSinglePostComments",value:function(e){return z.get("posts/".concat(e,"/comments"),{headers:W()}).then((function(e){return e.data.data.map((function(e){return new M(e)}))}))}},{key:"createPost",value:function(e){var t=e.type,a=e.src;return z.post("posts",{type:t,src:a},{headers:W()}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"createImagePost",value:function(e){var t=e.src,a=u.storageService.get("token");return z.post("posts?type=image",t,{headers:{"x-api-key":"1vaHd3v",Authorization:a}}).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}))}},{key:"deletePost",value:function(e){return z.delete("posts/".concat(e),{headers:W()}).catch((function(){return alert("This is not your post. You can not delete it!")}))}}]),e}()),q=a(5),Z=function e(t){Object(E.a)(this,e),this.id=t._id,this.avatarUrl=t.avatarUrl,this.about=t.about,this.firstName=t.firstName,this.lastName=t.lastName,this.fullName=t.fullName,this.email=t.email,this.prefix=t.prefix},X=a(27).baseURL,G=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllUsers",value:function(){return X.get("users?limit=100&offset=0",{headers:Object(q.HEADERS)()}).then((function(e){var t=e.data.data;return console.log(t),t.map((function(e){return Object(q.handleImageDisplay)(e),new Z(e)}))})).catch((function(e){return console.log(e)}))}},{key:"getLoggedUser",value:function(){return X.get("users/me",{headers:Object(q.HEADERS)()}).then((function(e){var t=e.data;return Object(q.handleImageDisplay)(t),new Z(t)}))}},{key:"getSingleUser",value:function(e){return X.get("users/".concat(e),{headers:Object(q.HEADERS)()}).then((function(e){var t=e.data.data;return Object(q.handleImageDisplay)(t),new Z(t)})).catch((function(e){return console.log(e)}))}},{key:"updateUser",value:function(e,t){return X.patch("users/".concat(e),t,{headers:Object(q.HEADERS)()}).catch((function(e){return console.log(e)}))}},{key:"uploadProfileImage",value:function(e,t){var a=u.storageService.get("token");return X.post("users/".concat(e,"/image"),t,{headers:{"x-api-key":"1vaHd3v",Authorization:a}})}},{key:"getSingleUserPosts",value:function(e){return X.get("users/".concat(e,"/posts"),{headers:Object(q.HEADERS)()}).then((function(e){return e.data.total})).catch((function(e){return console.log(e)}))}},{key:"getSingleUserComments",value:function(e){return X.get("users/".concat(e,"/comments"),{headers:Object(q.HEADERS)()}).then((function(e){return e.data.total})).catch((function(e){return console.log(e)}))}},{key:"deleteSingleUser",value:function(e,t){return X.delete("users/".concat(e),{headers:Object(q.HEADERS)()},t).then((function(e){u.storageService.remove("token"),console.log(e)})).catch((function(e){return console.log(e)}))}}]),e}()),Q=(a(142),function(){return s.a.createElement("div",{className:"sk-folding-cube"},s.a.createElement("div",{className:"sk-cube1 sk-cube"}),s.a.createElement("div",{className:"sk-cube2 sk-cube"}),s.a.createElement("div",{className:"sk-cube4 sk-cube"}),s.a.createElement("div",{className:"sk-cube3 sk-cube"}))}),$=a(36),ee=a.n($),te=function(e){var t=e.writePost;return s.a.createElement(l.Row,null,s.a.createElement("h2",null,"Text Post"),s.a.createElement("hr",null),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("textarea",{id:"textarea2",className:"materialize-textarea","data-length":"120",onChange:function(e){var a=e.target.value;t(a)}}),s.a.createElement("label",{htmlFor:"textarea2"},"Write something...")))},ae=function(e){var t=e.writePost;return s.a.createElement(l.Row,{style:{marginBottom:"26px"}},s.a.createElement("h2",null,"Image Post"),s.a.createElement("hr",null),s.a.createElement("div",{className:"file-field input-field col s12"},s.a.createElement("div",{className:"btn"},s.a.createElement("i",{className:"fa fa-upload"}),s.a.createElement("input",{type:"file",name:"file",accept:"image/jpeg",onChange:function(e){var a=e.target.files,n=new FormData;n.append("image",a[0],a[0].name),console.log(a[0],a[0].name),t(n)}})),s.a.createElement("div",{className:"file-path-wrapper"},s.a.createElement("input",{className:"file-path validate",type:"text"}))))},ne=function(e){var t=e.writePost;return s.a.createElement(l.Row,null,s.a.createElement("h2",null,"Video Post"),s.a.createElement("hr",null),s.a.createElement("div",{className:"input-field col s12"},s.a.createElement("textarea",{id:"textarea2",className:"materialize-textarea","data-length":"120",onChange:function(e){var a=e.target.value;t(a)}}),s.a.createElement("label",{htmlFor:"textarea2"},"Upload YouTube video")))},se=function(e){var t=e.modalIsOpen,a=e.openModal,n=e.writePost,r=e.savePost,o=e.changeText,i=e.changeImage,c=e.changeVideo,m=e.isText,u=e.isImage,d=e.isVideo,f=e.uploadImage;return s.a.createElement(ee.a,{isOpen:t,style:Object(q.customStyles)("65%"),ariaHideApp:!1,onRequestClose:function(){a()},contentLabel:"modal"},s.a.createElement(l.Container,{onKeyUp:function(e){return 13===e.keyCode&&void(u?f():r())}},s.a.createElement(l.Button,{onClick:o,name:"text",style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-pencil"})),s.a.createElement(l.Button,{onClick:i,name:"image",style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-image"})),s.a.createElement(l.Button,{onClick:c,name:"video"},s.a.createElement("i",{className:"fa fa-play"})),m&&s.a.createElement(te,{writePost:n}),u&&s.a.createElement(ae,{writePost:n}),d&&s.a.createElement(ne,{writePost:n}),s.a.createElement(l.Row,null,(m||d)&&s.a.createElement(l.Button,{onClick:r},s.a.createElement("i",{className:"fa fa-send"})),u&&s.a.createElement(l.Button,{onClick:f},s.a.createElement("i",{className:"fa fa-send"})))))},re=a(27).baseURL,oe=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"getAllComments",value:function(){return re.get("comments",{headers:Object(q.HEADERS)()}).then((function(e){return e.data.data.map((function(e){return new M(e)}))}))}},{key:"createComment",value:function(e){var t=e.postId,a=e.body;return re.post("comments",{postId:t,body:a},{headers:Object(q.HEADERS)()}).catch((function(e){return console.log(e)}))}},{key:"deleteComment",value:function(e){return re.delete("comments/".concat(e),{headers:Object(q.HEADERS)()}).catch((function(){return alert("This is not your comment. You can not delete it!")}))}}]),e}()),le=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).filterPostComments=function(t){return e.state.comments.filter((function(e){return e.postId===t})).length},e.filterPostUser=function(t){var a=e.state.users.filter((function(e){return e.id===t}));return console.log(a),a[0]},e.openModal=function(){e.setState((function(e){return{modalIsOpen:!e.modalIsOpen,type:"text"}}))},e.writePost=function(t){e.setState({src:t})},e.uploadImage=function(){J.createImagePost(e.state).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t,modalIsOpen:!1})}))}))},e.savePost=function(){J.createPost(e.state).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t,modalIsOpen:!1})}))}))},e.deletePost=function(t){J.deletePost(t).then((function(){J.getAllPosts().then((function(t){return e.setState({posts:t})}))}))},e.changeText=function(){e.setState({isText:!0,isImage:!1,isVideo:!1,type:"text"})},e.changeImage=function(){e.setState({isImage:!0,isText:!1,isVideo:!1,type:"image"})},e.changeVideo=function(){e.setState({isVideo:!0,isText:!1,isImage:!1,type:"video"})},e.state={posts:[],users:[],comments:[],isLoading:!0,modalIsOpen:!1,type:null,src:null,isText:!0,isImage:!1,isVideo:!1},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;G.getAllUsers().then((function(t){return e.setState({users:t})})),J.getAllPosts().then((function(t){return e.setState({posts:t})})).finally((function(){return e.setState({isLoading:!1})})),oe.getAllComments().then((function(t){return e.setState({comments:t})}))}},{key:"render",value:function(){var e=this;return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,s.a.createElement(se,{openModal:this.openModal,modalIsOpen:this.state.modalIsOpen,writePost:this.writePost,savePost:this.savePost,changeText:this.changeText,changeImage:this.changeImage,changeVideo:this.changeVideo,isText:this.state.isText,isImage:this.state.isImage,isVideo:this.state.isVideo,uploadImage:this.uploadImage}),this.state.posts.map((function(t){return"text"===t.type?s.a.createElement(j,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1}):"video"===t.type?s.a.createElement(H,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1}):s.a.createElement(L,{key:t.id,post:t,user:e.filterPostUser(t.owner),numbOfComments:e.filterPostComments(t.id),deletePost:e.deletePost,isShown:!1})}))),s.a.createElement(l.Button,{onClick:this.openModal,className:"red",fab:!0,icon:s.a.createElement("i",{className:"fa fa-plus"}),floating:!0,large:!0,node:"button"}))}}]),a}(s.a.Component),ie=function(e){var t=e.insertData,a=e.email,n=function(e){var a=e.target.name,n=e.target.value;t(n,a)};return s.a.createElement(l.Col,null,s.a.createElement(l.TextInput,{value:a,id:"TextInput-11",label:"Email",name:"email",disabled:!0}),s.a.createElement(l.TextInput,{onChange:n,id:"TextInput-12",label:"Password",name:"password"}),s.a.createElement(l.TextInput,{onChange:n,id:"TextInput-13",label:"New Password",name:"newPassword"}),s.a.createElement(l.TextInput,{id:"TextInput-14",style:{visibility:"hidden"}}))},ce=function(e){var t=e.user,a=e.saveNewPassword,n=e.insertData;return s.a.createElement(l.Container,{onKeyUp:function(e){return 13===e.keyCode&&a()}},s.a.createElement("h2",null,t.fullName),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement(ie,{insertData:n,email:t.email})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:a},s.a.createElement("i",{className:"fa fa-send"}))))},me=function(e){var t=e.insertData,a=function(e){var a=e.target.name,n=e.target.value;t(n,a)};return s.a.createElement(l.Col,null,s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-7",label:"First Name",name:"firstName"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-8",label:"Last Name",name:"lastName"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-9",label:"About",name:"about"}),s.a.createElement(l.TextInput,{onChange:a,id:"TextInput-10",label:"Prefix",name:"prefix"}))},ue=function(e){var t=e.user,a=e.submitData,n=e.insertData;return s.a.createElement(l.Container,{onKeyUp:function(e){return 13===e.keyCode&&a()}},s.a.createElement("h2",null,t.fullName),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement(me,{insertData:n})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:a},s.a.createElement("i",{className:"fa fa-send"}))))},de=function(e){var t=e.setImage;return s.a.createElement(l.Col,null,s.a.createElement(l.TextInput,{onChange:function(e){var a=e.target.files,n=new FormData;n.append("image",a[0],a[0].name),t(n)},id:"TextInput-15",type:"file",label:"Picture"}),s.a.createElement(l.TextInput,{id:"TextInput-16",style:{visibility:"hidden"}}),s.a.createElement(l.TextInput,{id:"TextInput-17",style:{visibility:"hidden"}}),s.a.createElement(l.TextInput,{id:"TextInput-18",style:{visibility:"hidden"}}))},fe=function(e){var t=e.user,a=e.uploadImage,n=e.setImage;return s.a.createElement(l.Container,null,s.a.createElement("h2",null,t.fullName),s.a.createElement("hr",null),s.a.createElement(l.Row,null,s.a.createElement(de,{setImage:n})),s.a.createElement(l.Row,null,s.a.createElement(l.Button,{onClick:a},s.a.createElement("i",{className:"fa fa-send"}))))},pe=function(e){var t=e.insertData,a=e.submitData,n=e.modalIsOpen,r=e.openModal,o=e.user,i=e.isPassword,c=e.saveNewPassword,m=e.isProfileImage,u=e.isInfo,d=e.changeInfo,f=e.changePassword,p=e.changeProfileImage,h=e.uploadImage,g=e.setImage;return s.a.createElement(ee.a,{isOpen:n,style:Object(q.customStyles)(""),ariaHideApp:!1,onRequestClose:function(){r({})},contentLabel:"modal"},s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Button,{onClick:d,style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-info"})),s.a.createElement(l.Button,{onClick:f,style:{marginRight:"5px"}},s.a.createElement("i",{className:"fa fa-key"})),s.a.createElement(l.Button,{onClick:p},s.a.createElement("i",{className:"fa fa-user-circle-o"})),i&&s.a.createElement(ce,{user:o,saveNewPassword:c,insertData:t}),u&&s.a.createElement(ue,{user:o,submitData:a,insertData:t}),m&&s.a.createElement(fe,{user:o,uploadImage:h,setImage:g})))},he=a(27),ge=new(function(){function e(){Object(E.a)(this,e)}return Object(v.a)(e,[{key:"register",value:function(e){var t=e.email,a=e.password,n=e.firstName,s=e.lastName;return he.baseURL.post("auth/register",{email:t,password:a,firstName:n,lastName:s},Object(q.HEADERS)()).then((function(e){console.log(e),200===e.status&&(u.storageService.set("token",e.data.token),console.log(e))})).catch((function(e){return console.log(e)}))}},{key:"logIn",value:function(e){var t=e.email,a=e.password;return he.baseURL.post("auth/login",{email:t,password:a},Object(q.HEADERS)()).then((function(e){if(console.log(e),200===e.status)return u.storageService.set("token",e.data.token),e})).catch((function(e){return console.log(e)}))}},{key:"changePassword",value:function(e){var t=e.email,a=e.password,n=e.newPassword;return he.baseURL.patch("auth/password/change",{email:t,password:a,newPassword:n},{headers:Object(q.HEADERS)()}).then((function(e){return console.log(e)}))}}]),e}()),Ee=a(9),ve=a.n(Ee),be=function(e){var t,a=e.user,n=e.openModal,r=e.numbOfPosts,o=e.numbOfComments;return s.a.createElement(l.Row,{className:ve.a.center},s.a.createElement(l.Col,{m:12,s:12,l:9,className:ve.a.margin},s.a.createElement("div",{className:ve.a.card},s.a.createElement("div",{className:ve.a.cardHeader},s.a.createElement("img",{src:null!==(t=a.avatarUrl)&&void 0!==t?t:y.a,alt:"Profile Image",className:ve.a.profileImg})),s.a.createElement("div",{className:ve.a.cardBody},s.a.createElement("p",{className:ve.a.fullName},a.fullName),s.a.createElement("p",{className:ve.a.username},s.a.createElement("i",{className:"fa fa-envelope"})," ",a.email),s.a.createElement("p",{className:ve.a.prefix},a.prefix),s.a.createElement("p",{className:ve.a.about},a.about),n&&s.a.createElement("p",{className:ve.a.edit,onClick:n},s.a.createElement("i",{className:"fa fa-edit"})," edit user")),s.a.createElement("div",{className:ve.a.cardFooter},s.a.createElement("div",{className:"".concat(ve.a.col," ").concat(ve.a.vr)},s.a.createElement("p",null,s.a.createElement("span",{className:ve.a.count},r)," Posts")),s.a.createElement("div",{className:ve.a.col},s.a.createElement("p",null,s.a.createElement("span",{className:ve.a.count},o)," Comments"))))))},_e=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).openModal=function(){e.setState((function(e){return{modalIsOpen:!e.modalIsOpen}}))},e.insertData=function(t,a){switch(a){case"firstName":e.setState({firstName:t});break;case"lastName":e.setState({lastName:t});break;case"about":e.setState({about:t});break;case"prefix":e.setState({prefix:t});break;case"email":e.setState({email:t});break;case"password":e.setState({password:t});break;case"newPassword":e.setState({newPassword:t});break;default:return null}},e.saveNewPassword=function(){ge.changePassword(e.state).finally((function(){return e.setState({modalIsOpen:!1})}))},e.changeInfo=function(){e.setState({isInfo:!0,isProfileImage:!1,isPassword:!1})},e.changePassword=function(){e.setState({isInfo:!1,isProfileImage:!1,isPassword:!0})},e.changeProfileImage=function(){e.setState({isInfo:!1,isProfileImage:!0,isPassword:!1})},e.setImage=function(t){e.setState({image:t})},e.uploadImage=function(){G.uploadProfileImage(e.state.user.id,e.state.image).then((function(){G.getLoggedUser().then((function(t){return e.setState({user:t,modalIsOpen:!1})}))}))},e.submitData=function(){var t={},a=e.state,n=a.firstName,s=a.lastName,r=a.about,o=a.prefix;t.firstName=n,t.lastName=s,t.about=r,t.prefix=o,G.updateUser(e.state.user.id,t).then((function(e){console.log(e),window.location.reload()}))},e.state={user:{},numbOfPosts:null,numbOfComments:null,image:null,modalIsOpen:!1,isInfo:!0,isPassword:!1,isProfileImage:!1,email:null,isLoading:!0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;G.getLoggedUser().then((function(t){return e.setState({user:t,email:t.email})})).then((function(){G.getSingleUserPosts(e.state.user.id).then((function(t){return e.setState({numbOfPosts:t})})),G.getSingleUserComments(e.state.user.id).then((function(t){return e.setState({numbOfComments:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(l.Row,null,s.a.createElement(pe,{user:this.state.user,modalIsOpen:this.state.modalIsOpen,openModal:this.openModal,insertData:this.insertData,submitData:this.submitData,isPassword:this.state.isPassword,isProfileImage:this.state.isProfileImage,isInfo:this.state.isInfo,changeInfo:this.changeInfo,changePassword:this.changePassword,changeProfileImage:this.changeProfileImage,saveNewPassword:this.saveNewPassword,uploadImage:this.uploadImage,setImage:this.setImage}),s.a.createElement(be,{user:this.state.user,openModal:this.openModal,numbOfPosts:this.state.numbOfPosts,numbOfComments:this.state.numbOfComments})))}}]),a}(s.a.Component),Ce=a(65),we=a(16),Pe=a.n(we),Ne=function(e){var t=e.insertData,a=e.submitData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-1",email:!0,label:"Email",name:"email",validate:!0})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-2",label:"Password",name:"password",password:!0})),s.a.createElement(l.Col,{l:12},s.a.createElement(l.Button,{className:Pe.a.font,onClick:a,node:"button",type:"submit",waves:"light"},"Login")))},ye=function(e){var t=e.insertData,a=e.submitData;return s.a.createElement(s.a.Fragment,null,s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-3",label:"First Name",name:"firstName"})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-4",label:"Last Name",name:"lastName"})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-5",email:!0,label:"Email",name:"email",validate:!0})),s.a.createElement(l.Col,{l:6},s.a.createElement(l.TextInput,{onChange:t,id:"TextInput-6",label:"Password",name:"password",password:!0})),s.a.createElement(l.Col,{l:12},s.a.createElement(l.Button,{className:Pe.a.font,onClick:a,node:"button",type:"submit",waves:"light"},"Register")))},Ie=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).insertData=function(t){e.setState(Object(Ce.a)({},t.target.name,t.target.value))},e.submitData=function(){e.state.isLog?ge.logIn(e.state).then((function(){e.props.history.push("/feed")})):ge.register(e.state).then((function(){e.props.history.push("/feed")}))},e.registerForm=function(){e.setState({isLog:!1})},e.loginForm=function(){e.setState({isLog:!0})},e.state={firstName:"",lastName:"",email:"",password:"",isLog:!0},e}return Object(v.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement(l.Container,{className:Pe.a.form,onKeyUp:function(t){return 13===t.keyCode&&e.submitData()}},s.a.createElement("h1",{className:"center-align ".concat(Pe.a.padding)},"Social Network"),s.a.createElement(l.Row,null,s.a.createElement("div",null,s.a.createElement("span",{className:"".concat(Pe.a.right," ").concat(this.state.isLog&&Pe.a.activeR),onClick:this.loginForm},"LOGIN"),s.a.createElement("span",{className:"".concat(Pe.a.left," ").concat(!this.state.isLog&&Pe.a.activeL),onClick:this.registerForm},"REGISTER")),s.a.createElement(l.Col,{l:6,className:Pe.a.margin},this.state.isLog?s.a.createElement(Ne,{insertData:this.insertData,submitData:this.submitData}):s.a.createElement(ye,{insertData:this.insertData,submitData:this.submitData})),s.a.createElement(l.Col,{l:6,className:Pe.a.info},s.a.createElement("p",null,"If you don't want to Register account you can get in as Demo User."),s.a.createElement("p",null,"email: demo@gmail.com"),s.a.createElement("p",null,"password: demodemo"))))}}]),a}(s.a.Component),Oe=a(25),Se=a.n(Oe),xe=function(e){var t=e.user,a=e.numbOfPosts,n=e.numbOfComments,r=t.email,o=t.id,i=t.fullName;return s.a.createElement(m.b,{to:"/people/".concat(o)},s.a.createElement(l.Row,{className:"".concat(Se.a.marginBottom," ").concat(Se.a.center)},s.a.createElement(l.Col,{className:"".concat(Se.a.user," ").concat(Se.a.margin),s:12,m:12,l:9},s.a.createElement("div",null,s.a.createElement("img",{className:Se.a.image,src:t.avatarUrl?t.avatarUrl:y.a,alt:"avatar"})),s.a.createElement("div",{className:Se.a.info},s.a.createElement("p",null,s.a.createElement("span",{className:Se.a.bold}," ",i)),s.a.createElement("p",null,s.a.createElement("i",{className:"fa fa-envelope"}),s.a.createElement("span",null," ",r)),s.a.createElement("p",null,a," posts"),s.a.createElement("p",null,n," comments")))))},ke=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).filterPostOwner=function(t){return e.state.posts.filter((function(e){return e.owner===t})).length},e.filterCommentOwner=function(t){return e.state.comments.filter((function(e){return e.owner===t})).length},e.state={users:[],posts:[],comments:[],isLoading:!0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;G.getAllUsers().then((function(t){return e.setState({users:t})})),J.getAllPosts().then((function(t){return e.setState({posts:t})})),oe.getAllComments().then((function(t){return e.setState({comments:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this;return Object(C.d)()||this.props.history.push("/"),s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,this.state.users.map((function(t){return s.a.createElement(xe,{user:t,key:t.id,numbOfPosts:e.filterPostOwner(t.id),numbOfComments:e.filterCommentOwner(t.id)})}))))}}]),a}(s.a.Component),Ue=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).removeUser=function(){G.deleteSingleUser(e.props.match.params.id,e.state.user).then((function(){e.props.history.push("/")}))},e.state={user:null,loggedUser:null,numbOfPosts:null,numbOfComments:null,isLoading:!0},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;G.getLoggedUser().then((function(t){return e.setState({loggedUser:t})})),G.getSingleUser(this.props.match.params.id).then((function(t){return e.setState({user:t})})).then((function(){G.getSingleUserPosts(e.props.match.params.id).then((function(t){return e.setState({numbOfPosts:t})})),G.getSingleUserComments(e.props.match.params.id).then((function(t){return e.setState({numbOfComments:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,this.state.loggedUser.id===this.state.user.id?this.props.history.push("/profile"):s.a.createElement(be,{user:this.state.user,numbOfComments:this.state.numbOfComments,numbOfPosts:this.state.numbOfPosts})))}}]),a}(s.a.Component),Te=function(e){Object(b.a)(a,e);var t=Object(_.a)(a);function a(){var e;return Object(E.a)(this,a),(e=t.call(this)).writeComment=function(t){e.setState({body:t})},e.saveComment=function(){oe.createComment(e.state).then((function(e){alert(e.data.data),window.location.reload()}))},e.deleteComment=function(t){oe.deleteComment(t).then((function(){J.getSinglePostComments(e.props.match.params.id).then((function(t){return e.setState({comments:t})}))}))},e.deletePost=function(t){J.deletePost(t).then((function(){return e.props.history.push("/feed")}))},e.state={isLoading:!0,post:[],user:[],users:[],comments:null,isShown:!0,body:null,postId:null},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;J.getSinglePost(this.props.match.params.id).then((function(t){return e.setState({post:t,postId:t.id})})),G.getAllUsers().then((function(t){return e.setState({users:t})})),J.getSinglePostComments(this.props.match.params.id).then((function(t){return e.setState({comments:t})})).then((function(){G.getSingleUser(e.state.post.owner).then((function(t){return e.setState({user:t})}))})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){return s.a.createElement(l.Container,null,this.state.isLoading?s.a.createElement(Q,null):s.a.createElement(s.a.Fragment,null,"image"===this.state.post.type&&s.a.createElement(L,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment}),"text"===this.state.post.type&&s.a.createElement(j,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment}),"video"===this.state.post.type&&s.a.createElement(H,{post:this.state.post,user:this.state.user,deletePost:this.deletePost,isShown:!0,comments:this.state.comments,users:this.state.users,writeComment:this.writeComment,saveComment:this.saveComment,deleteComment:this.deleteComment})))}}]),a}(s.a.Component);var De=function(){return s.a.createElement(g.c,null,s.a.createElement(g.a,{exact:!0,path:"/",component:Ie}),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"page-container"},s.a.createElement("div",{className:"content"},s.a.createElement(d,null),s.a.createElement(g.a,{exact:!0,path:"/feed",component:le}),s.a.createElement(g.a,{exact:!0,path:"/feed/post/:id",component:Te}),s.a.createElement(g.a,{exact:!0,path:"/profile",component:_e}),s.a.createElement(g.a,{exact:!0,path:"/people",component:ke}),s.a.createElement(g.a,{exact:!0,path:"/people/:id",component:Ue})),s.a.createElement(h,null))))};o.a.render(s.a.createElement(m.a,null,s.a.createElement(De,null)),document.getElementById("root"))},16:function(e,t,a){e.exports={form:"UserForm_form__1hKM_",activeR:"UserForm_activeR__Kpa80",activeL:"UserForm_activeL__3JSfd",right:"UserForm_right__1jpKs",left:"UserForm_left__1ospw",margin:"UserForm_margin__MyaED",padding:"UserForm_padding__dZzQn",font:"UserForm_font__2Pzjx",info:"UserForm_info__3cpEf"}},20:function(e,t,a){"use strict";a.r(t),a.d(t,"storageService",(function(){return r}));var n=a(4),s=a(6),r=new(function(){function e(){Object(n.a)(this,e)}return Object(s.a)(e,[{key:"set",value:function(e,t){var a=JSON.stringify(t);return sessionStorage.setItem(e,a),a}},{key:"get",value:function(e){return JSON.parse(sessionStorage.getItem(e))}},{key:"remove",value:function(e){return sessionStorage.removeItem(e)}}]),e}())},22:function(e,t,a){e.exports=a.p+"static/media/user.90f7e49c.png"},23:function(e,t,a){e.exports={user:"PostUser_user__ghuem",img:"PostUser_img__15DzI",radius:"PostUser_radius__gqNtp",info:"PostUser_info__PzyKW",bold:"PostUser_bold__TWYYH",trash:"PostUser_trash__2LXzh"}},24:function(e,t,a){e.exports={center:"VideoPost_center__1cxlg",margin:"VideoPost_margin__2ghbA",video:"VideoPost_video__bJBXQ",card:"VideoPost_card__36rBL",comment:"VideoPost_comment__3XfiL",numb:"VideoPost_numb__1-nLB",postType:"VideoPost_postType__62Be_"}},25:function(e,t,a){e.exports={user:"User_user__2bfCp",center:"User_center__30ymP",margin:"User_margin__tkWko",image:"User_image__27utl",info:"User_info__21cVL",marginBottom:"User_marginBottom__24-Gz",bold:"User_bold__3rwa1"}},27:function(e,t,a){"use strict";a.r(t),a.d(t,"baseURL",(function(){return s}));var n=a(64),s=a.n(n).a.create({baseURL:"https://backend-social-network.herokuapp.com/"})},29:function(e,t,a){e.exports={menu:"Header_menu__KCdZ3",header:"Header_header__2w5zz",font:"Header_font__2fwZC",title:"Header_title__W1Lt3"}},30:function(e,t,a){e.exports={user:"CommentUser_user__37YAb",img:"CommentUser_img__2B-cO",radius:"CommentUser_radius__Dhdg6",info:"CommentUser_info__1n-O3",bold:"CommentUser_bold__1Cxul",trash:"CommentUser_trash__lKODD"}},31:function(e,t,a){e.exports={center:"TextPost_center__34OHH",margin:"TextPost_margin__1Fi14",card:"TextPost_card__2hCJe",comment:"TextPost_comment__1Hl3w",numb:"TextPost_numb__1SwBo",postType:"TextPost_postType__399QK"}},32:function(e,t,a){e.exports={center:"ImagePost_center__1AfMq",margin:"ImagePost_margin__YLkXM",card:"ImagePost_card__1CoNN",comment:"ImagePost_comment__uWoF9",numb:"ImagePost_numb__1RiYk",postType:"ImagePost_postType__38MEH"}},37:function(e,t,a){e.exports={name:"Footer_name__3pcrY",footer:"Footer_footer__1jOUK",display:"Footer_display__1dEpj"}},5:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"HEADERS",(function(){return s})),a.d(t,"handlePostTypeDisplay",(function(){return r})),a.d(t,"handleImageDisplay",(function(){return o})),a.d(t,"customStyles",(function(){return l}));var n=a(12),s=function(){return{"Content-type":"application/json; charset=UTF-8","x-api-key":"1vaHd3v",Authorization:Object(n.c)()}},r=function(t){if("image"===t.type){var a,n=null===(a=t.src)||void 0===a?void 0:a.data,s=e.from(n).toString("base64");t.src=n?"data:image/png;base64,"+s:null}else{var r=e.from(t.src.data).toString();t.src=r}},o=function(t){var a,n=(null===(a=t.avatarUrl)||void 0===a?void 0:a.data)||"",s=e.from(n).toString("base64");t.avatarUrl=n?"data:image/png;base64,"+s:null},l=function(e){return window.innerWidth<860&&(e="90%"),{overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(218, 218, 218, 0.5)"},content:{width:e,top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}}}.call(this,a(138).Buffer)},66:function(e,t,a){e.exports=a(152)},71:function(e,t,a){},72:function(e,t,a){},9:function(e,t,a){e.exports={card:"ProfileCard_card__805hN",cardHeader:"ProfileCard_cardHeader__zpZcW",profileImg:"ProfileCard_profileImg__1mU-y",cardBody:"ProfileCard_cardBody__1vV2J",fullName:"ProfileCard_fullName__3uke2",username:"ProfileCard_username__23DlC",prefix:"ProfileCard_prefix__2usNF",about:"ProfileCard_about__v-Tj9",edit:"ProfileCard_edit__1TqU5",cardFooter:"ProfileCard_cardFooter__2sdlJ",col:"ProfileCard_col__35fCz",count:"ProfileCard_count__3o2Tp",vr:"ProfileCard_vr__Ec2mj",center:"ProfileCard_center__1B370",margin:"ProfileCard_margin__Zs6-m"}}},[[66,1,2]]]);
//# sourceMappingURL=main.f311c99e.chunk.js.map